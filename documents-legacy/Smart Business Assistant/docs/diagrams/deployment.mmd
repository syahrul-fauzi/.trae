flowchart LR
  subgraph Dev
    DevWeb[Web Dev]
    DevAPI[API Dev]
    DevWorker[Worker Dev]
  end
  subgraph Staging
    StgWeb[Web Staging]
    StgAPI[API Staging]
    StgWorker[Worker Staging]
    HPAStg[HPA]
  end
  subgraph Prod
    ProdWeb[Web Prod]
    ProdAPI[API Prod]
    ProdWorker[Worker Prod]
    HPAProd[HPA]
    Canary[Canary Release]
  end
  DevWeb --> StgWeb
  DevAPI --> StgAPI
  DevWorker --> StgWorker
  StgWeb --> ProdWeb
  StgAPI --> ProdAPI
  StgWorker --> ProdWorker
  ProdAPI --> HPAProd
  ProdAPI --> Canary
  StgAPI --> HPAStg
