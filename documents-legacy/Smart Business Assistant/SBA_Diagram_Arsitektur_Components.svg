<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="900" viewBox="0 0 1200 900">
  <rect x="20" y="20" width="1160" height="860" fill="#ffffff" stroke="#333"/>
  <text x="40" y="50" font-size="24" fill="#333">SBA – Component Diagram (C4 L3)</text>
  <!-- Frontend Components -->
  <rect x="60" y="100" width="320" height="200" fill="#fff7e6" stroke="#ff9900"/>
  <text x="80" y="130" font-size="18" fill="#333">Frontend (Next.js)</text>
  <text x="80" y="155" font-size="14" fill="#333">Chat UI, WorkspaceSwitcher, DocumentViewer</text>
  <text x="80" y="175" font-size="14" fill="#333">AGUI Client & Events</text>
  <!-- Orchestrator -->
  <rect x="420" y="100" width="320" height="300" fill="#fff0f6" stroke="#eb2f96"/>
  <text x="440" y="130" font-size="18" fill="#333">Agent Orchestrator</text>
  <text x="440" y="155" font-size="14" fill="#333">Session, Dialog Mgmt, Backpressure</text>
  <text x="440" y="175" font-size="14" fill="#333">Tool Registry (Knowledge/Render/Task/Vector)</text>
  <text x="440" y="195" font-size="14" fill="#333">Model Adapter (LLM)</text>
  <!-- Tools -->
  <rect x="780" y="100" width="360" height="300" fill="#f0f5ff" stroke="#2f54eb"/>
  <text x="800" y="130" font-size="18" fill="#333">Tools</text>
  <text x="800" y="155" font-size="14" fill="#333">KnowledgeTool → BaseHub GraphQL</text>
  <text x="800" y="175" font-size="14" fill="#333">RenderTool → Worker + Blob (S3/R2)</text>
  <text x="800" y="195" font-size="14" fill="#333">TaskTool → Postgres + Integrations</text>
  <!-- Data Stores -->
  <rect x="60" y="420" width="360" height="200" fill="#fffbe6" stroke="#fadb14"/>
  <text x="80" y="450" font-size="18" fill="#333">Data Stores</text>
  <text x="80" y="475" font-size="14" fill="#333">Postgres (RLS)</text>
  <text x="80" y="495" font-size="14" fill="#333">Redis (Session/Events)</text>
  <text x="80" y="515" font-size="14" fill="#333">Vector DB (optional)</text>
  <!-- Observability -->
  <rect x="460" y="420" width="360" height="200" fill="#fafafa" stroke="#8c8c8c"/>
  <text x="480" y="450" font-size="18" fill="#333">Observability</text>
  <text x="480" y="475" font-size="14" fill="#333">OpenTelemetry, Prometheus, Grafana, Sentry</text>
  <!-- Integrations -->
  <rect x="860" y="420" width="280" height="200" fill="#e6fffb" stroke="#13c2c2"/>
  <text x="880" y="450" font-size="18" fill="#333">Integrations</text>
  <text x="880" y="475" font-size="14" fill="#333">CRM/ERP/Payments/External APIs</text>
  <!-- Arrows -->
  <line x1="380" y1="200" x2="420" y2="200" stroke="#333" marker-end="url(#arrow)"/>
  <line x1="740" y1="200" x2="780" y2="200" stroke="#333" marker-end="url(#arrow)"/>
  <line x1="600" y1="400" x2="600" y2="420" stroke="#333" marker-end="url(#arrow)"/>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L6,3 z" fill="#333" />
    </marker>
  </defs>
</svg>

